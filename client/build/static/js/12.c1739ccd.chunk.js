(this.webpackJsonphasly=this.webpackJsonphasly||[]).push([[12],{192:function(e,a,t){"use strict";t.r(a),t.d(a,"default",(function(){return y}));var n=t(75),o=t(0),r=t(167),s=t(136),i=t(164),c=t(195),l=t(30),u=t(165),d=t(70),m=t(113),p=t.n(m),b=t(188),h=t(68),j=t(187),g=t(163),f=t(82),O=t.n(f),w=t(74),x=t(84),v=(t(83),t(3));x.a.configure();var C=Object(h.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center",boxShadow:"0px 0px 5px 5px purple",padding:"30px"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}));function y(e){var a=C(),t=localStorage.getItem("token"),m=Object(o.useState)(""),h=Object(n.a)(m,2),f=h[0],y=h[1],S=Object(o.useState)(""),k=Object(n.a)(S,2),P=k[0],W=k[1],N=Object(o.useState)(""),T=Object(n.a)(N,2),q=T[0],D=T[1],I=Object(o.useState)(""),A=Object(n.a)(I,2),E=A[0],F=A[1],J=Object(o.useState)(""),z=Object(n.a)(J,2),B=z[0],H=z[1],L=Object(o.useState)("none"),R=Object(n.a)(L,2),U=R[0],V=R[1],G=O.a.create({baseURL:w.a,headers:{Authorization:"bearer ".concat(t)}});return Object(v.jsxs)(g.a,{component:"main",maxWidth:"xs",children:[Object(v.jsx)(i.a,{}),Object(v.jsxs)(j.a,{elevation:3,className:a.paper,children:[Object(v.jsx)(d.a,{style:{position:"fixed",top:"70px",display:U}}),Object(v.jsx)(r.a,{className:a.avatar,children:Object(v.jsx)(p.a,{})}),Object(v.jsx)(b.a,{component:"h1",variant:"h5",children:"Change password"}),Object(v.jsxs)("form",{className:a.form,noValidate:!0,children:[Object(v.jsx)(c.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",value:f,onChange:function(e){return y(e.target.value)},autoFocus:!0}),Object(v.jsx)(s.a,{type:"submit",fullWidth:!0,variant:"contained",color:"secondary",className:a.submit,onClick:function(e){V("block"),e.preventDefault();var a={email:f};G.post("forgotPassword",a).then((function(e){V("none");var a=e.data;1==a.status?(x.a.info(a.msg,{autoClose:1e3}),H(a.otp)):x.a.error("Something went wrong",{autoClose:1e3})})).catch((function(e){V("none"),console.log(e),x.a.error("Something went wrong",{autoClose:1e3})}))},children:"Send OTP"}),Object(v.jsx)(c.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"otp",label:"Enter OTP",name:"otp",value:E,onChange:function(e){return F(e.target.value)},autoFocus:!0}),Object(v.jsx)(c.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",value:P,onChange:function(e){return W(e.target.value)},autoComplete:"current-password"}),Object(v.jsx)(c.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Confirm password",type:"password",id:"password",value:q,onChange:function(e){return D(e.target.value)},autoComplete:"current-password"}),Object(v.jsx)(s.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",onClick:function(a){if(V("block"),a.preventDefault(),E==B)if(P.length<6)x.a.error("Password length must be at least 6",{autoClose:2e3});else if(q==P){var t={email:f,password:P};G.post("changePassword",t).then((function(a){V("none"),1==a.data.status?(x.a.success("Password was changed successfully",{autoClose:2e3}),e.history.push("/")):x.a.error("Something went wrong")})).catch((function(e){V("none"),console.log(e),x.a.error("Something went wrong")}))}else x.a.error("Password and Confirm password don't match",{autoClose:2e3});else x.a.error("Incorrect OTP",{autoClose:1e3})},className:a.submit,children:"Submit"}),Object(v.jsx)(u.a,{container:!0,children:Object(v.jsx)(u.a,{item:!0,xs:!0,children:Object(v.jsx)(l.b,{to:"/",variant:"body2",children:"Back to Home"})})})]})]})]})}},74:function(e,a,t){"use strict";a.a=""}}]);
//# sourceMappingURL=12.c1739ccd.chunk.js.map